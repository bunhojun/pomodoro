(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{37:function(e,t,n){e.exports=n(62)},42:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(19),r=n.n(i),s=(n(42),n(6)),l=n(7),c=n(8),d=n(9),u=n(10),h=n(30),m=n.n(h).a.initializeApp({apiKey:"AIzaSyD5z7iTh2QR82v-piuLbn_35AApnYHm3Ds",authDomain:"pomodoro-6923a.firebaseapp.com",databaseURL:"https://pomodoro-6923a.firebaseio.com",projectId:"pomodoro-6923a",storageBucket:"pomodoro-6923a.appspot.com",messagingSenderId:"309234706676",appId:"1:309234706676:web:2223cc48d4062713cfd6a1"}),p=n(3),f=(n(53),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.login=function(e){e.preventDefault(),m.auth().signInWithEmailAndPassword(n.state.email,n.state.password).catch((function(e){alert(e)}))},n.signUp=function(e){e.preventDefault(),m.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).catch((function(e){alert(e)}))},n.state={email:"",password:""},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Pomodoro"),o.a.createElement("div",{className:"wrapper",id:"login-wrapper"},o.a.createElement("form",null,o.a.createElement("h2",null,"Login or Signup"),o.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"email",onChange:this.handleChange,value:this.state.email}),o.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",onChange:this.handleChange,value:this.state.password}),o.a.createElement("button",{type:"submit",id:"login",onClick:this.login},"login"),o.a.createElement("button",{type:"submit",id:"signup",onClick:this.signUp},"signup"))))}}]),t}(a.Component)),b=(n(54),n(55),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){e.preventDefault(),n.props.changeState(n.props.todo.id,n.props.todo.done)},n.handleDelete=function(){n.props.delTodo(n.props.todo.id)},n.onClickTodo=function(){window.location.href="/pomodoro?".concat(n.props.todo.id)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"todo"},o.a.createElement("input",{type:"checkbox",checked:this.props.todo.done,onChange:this.handleChange}),o.a.createElement("span",{className:"link",onClick:this.onClickTodo},this.props.todo.content),o.a.createElement("span",{className:"delete",onClick:this.handleDelete},"\xd7")))}}]),t}(a.Component)),v=(n(56),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleAdd=function(){""!==n.state.content?(n.props.addTodo(n.state.content),n.setState({content:""})):alert("fill out the form")},n.handleChange=function(e){n.setState({content:e.target.value})},n.state={content:""},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("input",{id:"pomodoro-input",onChange:this.handleChange,value:this.state.content}),o.a.createElement("button",{id:"add-task",onClick:this.handleAdd},"add"))}}]),t}(a.Component)),g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.db.where("uid","==",n.user.uid).onSnapshot((function(e){if(!e.empty){var t=[];e.forEach((function(e){t.unshift({id:e.id,content:e.data().content,done:e.data().done})})),n.setState({todos:t})}}))},n.addTodo=function(e){n.db.doc().set({content:e,uid:n.user.uid,done:!1})},n.delTodo=function(e){n.db.doc(e).delete()},n.changeState=function(e,t){n.db.doc(e).update({done:!t})},n.user=e.user,n.state={todos:[]},n.db=m.firestore().collection("todos"),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{addTodo:this.addTodo}),o.a.createElement("ul",{id:"todo-wrapper"},this.state.todos.map((function(t){return o.a.createElement(b,{todo:t,key:t.id,delTodo:e.delTodo,changeState:e.changeState})}))))}}]),t}(a.Component),E=n(32),C=n(36),w=(n(57),function(e){if(0===e)return o.a.createElement("div",{className:"timer"},"The session is over");var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),n=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60);return o.a.createElement("div",{className:"timer"},o.a.createElement("div",{className:"text"},"Remaining"),o.a.createElement("div",{className:"value"},t+":"+n),o.a.createElement("div",{className:"text"},"minutes"))}),y=[{value:.2,label:"0.2"},{value:5,label:"5"},{value:15,label:"15"},{value:25,label:"25"}],j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.db.get().then((function(e){return n.setState({content:e.data().content})}))},n.handleChange=function(e){n.setState({duration:e.value})},n.startPomodoro=function(){"Notification"in window?"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){n.setState({isPlaying:!0,isDisabled:!0,startButtonColor:"gray",visibility:"hidden"})})):alert("This browser does not support desktop notification")},n.onSessionEnd=function(){if("granted"===Notification.permission)new Notification("The session is over! Let's take a break");n.setState({visibility:"visible"})},n.sendDone=function(e){e.preventDefault(),n.props.sendResult(n.id,!0)},n.sendNotYet=function(e){e.preventDefault(),n.props.sendResult(n.id,!1)},n.id=window.location.search.split("?")[1],n.db=m.firestore().collection("todos").doc(n.id),n.state={duration:25,isPlaying:!1,isDisabled:!1,startButtonColor:"violet",visibility:"hidden",content:""},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"select-zone"},o.a.createElement(C.a,{value:this.state.duration,onChange:this.handleChange,options:y,isDisabled:this.state.isDisabled})),o.a.createElement("div",{id:"timer-zone"},o.a.createElement(E.CountdownCircleTimer,{isPlaying:this.state.isPlaying,durationSeconds:60*this.state.duration,colors:[["#004777",.33],["#F7B801",.33],["#A30000"]],renderTime:w,onComplete:this.onSessionEnd})),o.a.createElement("div",{id:"content"},"todo: ",this.state.content),o.a.createElement("button",{disabled:this.state.isDisabled,style:{backgroundColor:this.state.startButtonColor},id:"start",onClick:this.startPomodoro},"start pomodoro"),o.a.createElement("div",{id:"send-zone",style:{visibility:this.state.visibility}},o.a.createElement("p",null,"How did it go ?"),o.a.createElement("button",{onClick:this.sendDone,id:"done-btn"},"done"),o.a.createElement("button",{onClick:this.sendNotYet,id:"not-yet-btn"},"not yet")))}}]),t}(a.Component),O=n(33),k=n(18),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.authListener()},n.authListener=function(){m.auth().onAuthStateChanged((function(e){e?n.setState({user:e}):n.setState({user:null})}))},n.signout=function(e){e.preventDefault(),m.auth().signOut()},n.notify=function(e){m.firestore().collection("mails").add({to:n.state.user.email,message:{subject:"pomodoro notification",text:e}}).then((function(e){console.log(e)}))},n.sendResult=function(e,t){m.firestore().collection("todos").doc(e).update({done:t}).then((function(){window.location.href="/"}))},n.state={user:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.user?o.a.createElement(O.a,null,o.a.createElement("div",{className:"header"},o.a.createElement("h3",null,"Pomodoro"),o.a.createElement("button",{onClick:this.signout,id:"signout"},"signout")),o.a.createElement("div",{className:"wrapper",id:"pomodoro-wrapper"},o.a.createElement(k.c,null,o.a.createElement(k.a,{exact:!0,path:"/",render:function(){return o.a.createElement(g,{user:e.state.user})}}),o.a.createElement(k.a,{path:"/pomodoro",render:function(){return o.a.createElement(j,{notify:e.notify,sendResult:e.sendResult})}})))):o.a.createElement(f,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.98e4cfcc.chunk.js.map