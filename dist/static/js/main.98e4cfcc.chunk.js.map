{"version":3,"sources":["config.js","Login/Login.js","Todo/Todo.js","PomodoroForm/PomodoroForm.js","Home/Home.js","Pomodoro/Pomodoro.js","App.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Login","props","handleChange","e","setState","target","name","value","login","preventDefault","auth","signInWithEmailAndPassword","state","email","password","catch","err","alert","signUp","createUserWithEmailAndPassword","Fragment","className","id","type","placeholder","onChange","this","onClick","Component","Todo","changeState","todo","done","handleDelete","delTodo","onClickTodo","window","location","href","checked","content","PomodoroForm","handleAdd","addTodo","Home","componentDidMount","db","where","user","uid","onSnapshot","snap","empty","todoArr","forEach","doc","unshift","data","todos","set","todoId","delete","update","firestore","collection","map","key","renderTime","minute","Math","floor","second","options","label","Pomodoro","get","then","selectedOption","duration","startPomodoro","Notification","permission","requestPermission","isPlaying","isDisabled","startButtonColor","visibility","onSessionEnd","sendDone","sendResult","sendNotYet","search","split","durationSeconds","colors","onComplete","disabled","style","backgroundColor","App","authListener","onAuthStateChanged","signout","signOut","notify","add","to","message","subject","text","res","console","log","exact","path","render","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.98e4cfcc.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD5z7iTh2QR82v-piuLbn_35AApnYHm3Ds\",\r\n    authDomain: \"pomodoro-6923a.firebaseapp.com\",\r\n    databaseURL: \"https://pomodoro-6923a.firebaseio.com\",\r\n    projectId: \"pomodoro-6923a\",\r\n    storageBucket: \"pomodoro-6923a.appspot.com\",\r\n    messagingSenderId: \"309234706676\",\r\n    appId: \"1:309234706676:web:2223cc48d4062713cfd6a1\"\r\n  };\r\n\r\n  // Initialize Firebase\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nexport default fire;","import React, { Component } from 'react';\r\nimport './Login.css';\r\nimport fire from '../config';\r\n\r\nexport class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({[e.target.name]:e.target.value});\r\n    }\r\n\r\n    login = (e) => {\r\n        e.preventDefault(); //ボタンの動作を制御\r\n        fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password)\r\n        .catch(err => { \r\n            alert(err); //ログイン失敗メッセージをアラート表示\r\n        });\r\n    }\r\n\r\n    signUp = (e) => {\r\n        e.preventDefault(); //ボタンの動作を制御\r\n        fire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n        .catch(err => {\r\n            alert(err); //ユーザー登録失敗メッセージをアラート表示\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1>Pomodoro</h1>\r\n                <div className=\"wrapper\" id=\"login-wrapper\">\r\n                    <form>\r\n                        <h2>Login or Signup</h2>\r\n                        <input type=\"email\" name=\"email\" id=\"email\" placeholder=\"email\" onChange={this.handleChange} value={this.state.email}/>\r\n                        <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"password\" onChange={this.handleChange} value={this.state.password}/>\r\n                        <button type=\"submit\" id=\"login\" onClick={this.login}>login</button>\r\n                        <button type=\"submit\" id=\"signup\" onClick={this.signUp}>signup</button>\r\n                    </form>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n","import React, { Component } from 'react';\r\nimport './Todo.css';\r\n\r\nexport class Todo extends Component {\r\n\r\n    handleChange = (e) => {\r\n        e.preventDefault();\r\n        this.props.changeState(this.props.todo.id, this.props.todo.done);\r\n    }\r\n\r\n    handleDelete = () => {\r\n        this.props.delTodo(this.props.todo.id);\r\n    }\r\n\r\n    onClickTodo = () => {\r\n        window.location.href = `/pomodoro?${this.props.todo.id}`;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <li className=\"todo\">\r\n                    <input type=\"checkbox\" checked={this.props.todo.done} onChange={this.handleChange}></input>\r\n                    <span className=\"link\" onClick={this.onClickTodo}>{this.props.todo.content}</span>\r\n                    <span className=\"delete\" onClick={this.handleDelete}>&times;</span>\r\n                </li>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Todo\r\n","import React, { Component } from 'react';\r\nimport './PomodoroForm.css';\r\n\r\nexport class PomodoroForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            content: ''\r\n        }\r\n    }\r\n    \r\n    handleAdd = () => {\r\n        if(this.state.content !== '') {\r\n            this.props.addTodo(this.state.content);\r\n            this.setState({content:''});\r\n        }else {\r\n            //todoが未記入の時\r\n            alert('fill out the form');\r\n        }\r\n\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({content:e.target.value});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input id=\"pomodoro-input\" onChange={this.handleChange} value={this.state.content}></input>\r\n                <button id=\"add-task\" onClick={this.handleAdd}>add</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PomodoroForm;","import React, { Component } from 'react';\r\nimport './Home.css';\r\nimport Todo from '../Todo/Todo';\r\nimport PomodoroForm from '../PomodoroForm/PomodoroForm';\r\nimport fire from '../config';\r\n \r\n\r\nexport class Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.user = props.user;\r\n        this.state = {\r\n            todos: []\r\n        }\r\n        this.db = fire.firestore().collection('todos');\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //ユーザーが記入したtodoを取得\r\n        this.db.where('uid', '==', this.user.uid).onSnapshot(snap => {\r\n            if(!snap.empty) {\r\n                const todoArr = [];\r\n                snap.forEach(doc => {\r\n                    todoArr.unshift({\r\n                        id: doc.id,\r\n                        content: doc.data().content,\r\n                        done: doc.data().done\r\n                    });\r\n                });\r\n                this.setState({todos:todoArr});\r\n            }\r\n        })\r\n    }\r\n    \r\n    addTodo = (todo) => {\r\n        this.db.doc().set(\r\n            {\r\n                content: todo,\r\n                uid: this.user.uid,\r\n                done: false\r\n            }\r\n        )\r\n    }\r\n\r\n    delTodo = (todoId) => {\r\n        this.db.doc(todoId).delete();\r\n    }\r\n\r\n    //todoの完了のstateを更新\r\n    changeState = (todoId, done) => {\r\n        this.db.doc(todoId).update({done: !done});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                    <PomodoroForm addTodo={this.addTodo}></PomodoroForm>\r\n                    <ul id=\"todo-wrapper\">{\r\n                        this.state.todos.map(todo => {\r\n                            return(\r\n                                <Todo todo={todo} key={todo.id} delTodo={this.delTodo} changeState={this.changeState}></Todo> \r\n                            )\r\n                        })\r\n                    }\r\n                    </ul>  \r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home\r\n","import React, { Component } from 'react';\r\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer';\r\nimport Select from 'react-select'; \r\nimport './Pomodoro.css';\r\nimport fire from '../config';\r\n\r\n//タイマーに表示する文章を作成する\r\nconst renderTime = value => {\r\n    if (value === 0) {\r\n      return <div className=\"timer\">The session is over</div>;\r\n    }\r\n\r\n    const minute = (Math.floor(value / 60) < 10) ? '0' + Math.floor(value / 60) : Math.floor(value / 60);\r\n    const second = (Math.floor(value % 60) < 10) ? '0' + Math.floor(value % 60) : Math.floor(value % 60);\r\n  \r\n    return (\r\n      <div className=\"timer\">\r\n        <div className=\"text\">Remaining</div>\r\n        <div className=\"value\">{minute + ':' + second}</div>\r\n        <div className=\"text\">minutes</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nconst options = [\r\n    {value: 0.2, label: '0.2'},\r\n    {value: 5, label: '5'},\r\n    {value: 15, label: '15'},\r\n    {value: 25, label: '25'}\r\n]\r\n\r\n\r\n\r\nexport class Pomodoro extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = window.location.search.split('?')[1];\r\n        this.db = fire.firestore().collection('todos').doc(this.id);\r\n        this.state = {\r\n            duration: 25,\r\n            isPlaying: false,\r\n            isDisabled: false,\r\n            startButtonColor: 'violet',\r\n            visibility: 'hidden',\r\n            content: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.db.get().then(doc => this.setState({content: doc.data().content}));\r\n    }\r\n    \r\n    handleChange = (selectedOption) => {\r\n        this.setState({duration: selectedOption.value});\r\n    }\r\n\r\n    startPomodoro = () => {\r\n        // Let's check if the browser supports notifications\r\n        if (!(\"Notification\" in window)) {\r\n            alert(\"This browser does not support desktop notification\");\r\n        }\r\n        // Otherwise, we need to ask the user for permission\r\n        else if (Notification.permission !== \"denied\") {\r\n            Notification.requestPermission().then((permission) => {\r\n                this.setState({isPlaying:true, isDisabled:true, startButtonColor:'gray', visibility: 'hidden'});\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    onSessionEnd = () => {\r\n        //this.props.notify(this.state.content);\r\n        if (Notification.permission === \"granted\") {\r\n            // If it's okay let's create a notification\r\n            const notification = new Notification(\"The session is over! Let's take a break\");\r\n        }\r\n        this.setState({visibility: 'visible'});\r\n    }\r\n\r\n    //完了の時\r\n    sendDone = (e) => {\r\n        e.preventDefault();\r\n        this.props.sendResult(this.id, true);\r\n    }\r\n\r\n    //未完の時\r\n    sendNotYet = (e) => {\r\n        e.preventDefault();\r\n        this.props.sendResult(this.id, false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div id=\"select-zone\">\r\n                    <Select \r\n                        value={this.state.duration}\r\n                        onChange={this.handleChange}\r\n                        options={options}\r\n                        isDisabled={this.state.isDisabled}>\r\n                    </Select>\r\n                </div>\r\n                <div id=\"timer-zone\">\r\n                    <CountdownCircleTimer \r\n                        isPlaying={this.state.isPlaying} \r\n                        durationSeconds={this.state.duration * 60}\r\n                        colors={[\r\n                            ['#004777', .33],\r\n                            ['#F7B801', .33],\r\n                            ['#A30000']\r\n                        ]}\r\n                        renderTime={renderTime}\r\n                        onComplete={this.onSessionEnd}\r\n                    ></CountdownCircleTimer>\r\n                </div>\r\n                <div id=\"content\">todo: {this.state.content}</div>\r\n                <button disabled={this.state.isDisabled} style={{backgroundColor: this.state.startButtonColor}} id=\"start\" onClick={this.startPomodoro}>start pomodoro</button>\r\n                <div id=\"send-zone\" style={{visibility : this.state.visibility}}>\r\n                    <p>How did it go ?</p>\r\n                    <button onClick={this.sendDone} id=\"done-btn\">done</button>\r\n                    <button onClick={this.sendNotYet} id=\"not-yet-btn\">not yet</button>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Pomodoro;\r\n","import React, { Component } from 'react';\nimport fire from './config';\nimport Login from './Login/Login';\nimport Home from './Home/Home';\nimport Pomodoro from './Pomodoro/Pomodoro';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null\n    }\n    \n  }\n\n  componentDidMount = () => {\n    this.authListener();\n  }\n  \n  //ユーザーのログインのstateを見る\n  authListener = () => {\n    fire.auth().onAuthStateChanged(user => {\n      if(user) {\n        this.setState({user});\n      }else {\n        this.setState({user: null});\n      }\n    });\n  }\n\n  signout = (e) => {\n    e.preventDefault();\n    fire.auth().signOut();\n  }\n\n  //メール送信\n  notify = (content) => {\n    fire.firestore().collection('mails').add({\n      to: this.state.user.email,\n      message: {\n        subject: 'pomodoro notification',\n        text: content\n      }\n    }).then(res => {\n      console.log(res);\n    })\n  }\n\n  //完了したかどうかをデータベースに送る\n  sendResult = (todoId, done) => {\n    fire.firestore().collection('todos').doc(todoId).update({done: done})\n    .then(() => {window.location.href = '/'});\n  }\n\n  render() {\n    return (\n      <div>\n        {(this.state.user) ? \n        (\n          <Router>\n            <div className=\"header\">\n              <h3>Pomodoro</h3>\n              <button onClick={this.signout} id=\"signout\">signout</button>\n            </div>\n            <div className=\"wrapper\" id=\"pomodoro-wrapper\">\n            <Switch>\n              <Route exact path=\"/\" render={() => (<Home user={this.state.user}></Home>)}></Route>\n              <Route path=\"/pomodoro\" render={() => (<Pomodoro notify={this.notify} sendResult={this.sendResult}></Pomodoro>)}></Route>\n            </Switch>\n            </div>\n          </Router>\n        ) : (\n          <Login></Login>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}